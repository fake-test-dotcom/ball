"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[305],{3305:(e,t,l)=>{l.r(t),l.d(t,{default:()=>o});var r=l(5155),n=l(2115);let a=n.forwardRef((e,t)=>{let{draw:l,width:a,height:o,...s}=e,i=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let e,r=(null==t?void 0:t.current)||i.current;if(!r)return;let n=r.getContext("2d");if(!n)return;let a=()=>{n&&(l(n),e=requestAnimationFrame(a))};return a(),()=>cancelAnimationFrame(e)},[l,t]),(0,r.jsx)("canvas",{ref:t||i,width:a,height:o,...s})});function o(){let e=Math.floor(12),t=(0,n.useMemo)(()=>["red","blue","green","yellow"],[]),l=(0,n.useCallback)(l=>{let r=[];for(let n=0;n<e;n++){let e=t[Math.floor(Math.random()*t.length)];r.push({x:30*n+15,y:l+15,color:e})}return r},[e,30,t]),o=(0,n.useCallback)(()=>({x:180,y:555,dx:0,dy:0,color:t[Math.floor(Math.random()*t.length)]}),[360,555,t]),[s,i]=(0,n.useState)(()=>l(0)),[c,u]=(0,n.useState)(o()),[d,h]=(0,n.useState)(!1),[f,x]=(0,n.useState)(!1),[b,g]=(0,n.useState)(null),[m,y]=(0,n.useState)(!1),[,p]=(0,n.useState)(0),[w,k]=(0,n.useState)(!1),[v,j]=(0,n.useState)(!0),C=(0,n.useRef)(!1),S=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=setTimeout(()=>j(!1),1500);return()=>clearTimeout(e)},[]),(0,n.useEffect)(()=>{if(f||w||v)return;let e=setInterval(()=>{i(e=>{let t=e.map(e=>({...e,y:e.y+30})),r=[...l(0),...t];return r.some(e=>e.y+15>=555)&&x(!0),r})},5e3);return()=>clearInterval(e)},[f,w,v,l,30,555]);let N=()=>{if(!C.current||!b||d||f||w||v){C.current=!1,g(null);return}C.current=!1;let{x:e,y:t}=b,l=Math.hypot(e,t);if(0===l)return void g(null);e=e/l*6,t=t/l*6,u(l=>({...l,dx:e,dy:t})),h(!0),g(null),y(!0)},P=(0,n.useCallback)(e=>{if(!b)return;let{x:t,y:l}=b;e.strokeStyle="rgba(255,255,255,0.7)",e.lineWidth=3,e.setLineDash([10,10]),e.beginPath(),e.moveTo(c.x,c.y),e.lineTo(c.x+t,c.y+l),e.stroke(),e.setLineDash([])},[b,c]),M=(0,n.useCallback)(function(e,t,l){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;r.add(t);let n=e[t];for(let t=0;t<e.length;t++){if(r.has(t))continue;let a=e[t];a.color===l&&32>=Math.hypot(a.x-n.x,a.y-n.y)&&M(e,t,l,r)}return r},[30]),R=(0,n.useCallback)((e,t,l,r)=>{e.shadowColor="rgba(0, 0, 0, 0.3)",e.shadowBlur=5,e.shadowOffsetX=1,e.shadowOffsetY=1;let n=e.createRadialGradient(t-4.333333333333333,l-4.333333333333333,2.6,t,l,13);n.addColorStop(0,"white"),n.addColorStop(.3,r),n.addColorStop(1,"black"),e.beginPath(),e.arc(t,l,13,0,2*Math.PI),e.fillStyle=n,e.fill(),e.closePath(),e.beginPath(),e.arc(t-4.333333333333333,l-4.333333333333333,3.25,0,2*Math.PI),e.fillStyle="rgba(255, 255, 255, 0.35)",e.fill(),e.closePath(),e.strokeStyle="white",e.lineWidth=1,e.stroke(),e.shadowColor="transparent",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0},[30]);(0,n.useEffect)(()=>{let e;if(!d)return;let t=()=>{u(e=>{let{x:t,y:l,dx:r,dy:n}=e,{color:a}=e;(t+=r)<15&&(t=15,r=-r),t>345&&(t=345,r=-r),(l+=n)<15&&(l=15,n=-n);let c=-1;for(let e=0;e<s.length;e++){let r=s[e];if(28>Math.hypot(r.x-t,r.y-l)){c=e;break}}if(c>=0){let e={x:30*Math.round((t-15)/30)+15,y:30*Math.round((l-15)/30)+15,color:a},r=[...s,e],n=r.length-1,c=M(r,n,a),u=[...s,e];return c.size>=3&&(u=u.filter((e,t)=>!c.has(t)),p(e=>{let t=e+c.size;return t>=19&&k(!0),t})),i(u),u.some(e=>e.y+15>=555)&&x(!0),h(!1),y(!0),o()}return l>630?(h(!1),y(!0),o()):{x:t,y:l,dx:r,dy:n,color:a}}),e=requestAnimationFrame(t)};return e=requestAnimationFrame(t),()=>cancelAnimationFrame(e)},[d,s,30,360,600,555,M,o,i,h,p,x,k]);let A=(0,n.useCallback)(e=>{e.clearRect(0,0,360,600),e.fillStyle="#121212",e.fillRect(0,0,360,600),s.forEach(t=>{R(e,t.x,t.y,t.color)}),!d&&b&&P(e),R(e,c.x,c.y,c.color)},[s,R,c,b,d,P,360,600]),E=()=>{i(l(0)),u(o()),h(!1),x(!1),y(!1),p(0),k(!1),g(null)};return(0,r.jsxs)("div",{className:"relative select-none touch-none bg-[#121212] min-h-screen flex flex-col items-center text-white",children:[(0,r.jsx)("header",{className:"w-full p-4 text-center text-2xl font-bold border-b border-gray-700 bg-[#181818]",children:"Ball Shooter"}),v&&(0,r.jsx)("div",{className:"absolute inset-0 flex flex-col justify-center items-center bg-black bg-opacity-90 z-50",style:{backgroundImage:"url(/images/71wqwj7DFWL.jpg)",backgroundSize:"cover",backgroundPosition:"center"},children:(0,r.jsxs)("div",{className:"bg-black bg-opacity-60 p-4 rounded-md",children:[(0,r.jsx)("h2",{className:"text-white text-3xl mb-2 font-semibold",children:"Loading..."}),(0,r.jsx)("p",{className:"text-gray-300",children:"Preparing the game..."})]})}),(0,r.jsx)(a,{ref:S,draw:A,width:360,height:600,className:"border border-gray-700 rounded-lg m-4",onPointerDown:e=>{if(d||f||w||v)return;C.current=!0;let t=S.current.getBoundingClientRect(),l=e.clientX-t.left,r=e.clientY-t.top;g({x:l-c.x,y:r-c.y})},onPointerMove:e=>{if(!C.current)return;let t=S.current.getBoundingClientRect(),l=e.clientX-t.left,r=e.clientY-t.top,n=l-c.x,a=r-c.y;a>0||g({x:n,y:a})},onPointerUp:N,onPointerCancel:N,onPointerLeave:N,style:{touchAction:"none"}}),!f&&!m&&!w&&!v&&(0,r.jsxs)("div",{style:{color:"white",marginBottom:"200px"},className:"mb-6 text-center text-gray-400 pointer-events-none select-none",children:[(0,r.jsx)("p",{children:"Drag or swipe upward to aim and shoot"}),(0,r.jsx)("p",{className:"text-sm",children:"(Tap/click and drag then release)"})]}),f&&(0,r.jsxs)("div",{className:"absolute inset-0 flex flex-col justify-center items-center bg-black bg-opacity-80 text-white z-40",children:[(0,r.jsx)("h2",{className:"text-4xl font-bold mb-4",children:"Game Over"}),(0,r.jsx)("button",{onClick:E,className:"px-6 py-3 bg-blue-700 rounded hover:bg-blue-800",children:"Restart"})]}),w&&(0,r.jsxs)("div",{className:"absolute inset-0 flex flex-col justify-center items-center bg-gray-900 bg-opacity-90 text-white z-40",children:[(0,r.jsx)("h2",{className:"text-4xl font-bold mb-4",children:"You Win!"}),(0,r.jsx)("button",{onClick:E,className:"px-6 py-3 bg-green-600 rounded hover:bg-green-700",children:"Play Again"})]})]})}a.displayName="Canvas"}}]);